<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>
<body>
    <script>
        /*
        //Array를 좀더 개선한것 set,weakset
        //object를 좀더 개선한것 map,weakmap
        
        //map은 key/value구조

        let wm = new WeakMap();
        let myfun = function(){};
        //이 함수가 얼마나 실행됬는지 알려고 할때
        
        wm.set(myfun,0);

        console.log(wm);

        let count=0;

        for(let i =0;i<10;i++)
        {
            count = wm.get(myfun); //getValue
            count++;
            wm.set(myfun,count);
        }

        console.log(wm.get(myfun));
        myfun=null;
        console.log(wm.get(myfun));  //undefine
        console.log(wm.has(myfun));  //false
        */
    </script>

    <script>
        //weakMap 활용

        
        function Area(height,width){
            this.height=height;
            this.width=width;
        }

        Area.prototype.getArea=function(){
            return this.height * this.width;
        }

        let myArea = new Area(10,20);
        console.log(myArea.getArea());
        console.log(myArea.height);   //외부에서 접근가능

        const wm = new WeakMap();
        
        function Area2(height,width){
            wm.set(this,{height,width});
        }

        Area2.prototype.getArea2 = function(){
            const {height,width} = wm.get(this);
            return height*width;
        }
        let myArea2 = new Area2(5,10);

        fun

        console.log(myArea2.getArea2());
        console.log(myArea2.height);   //weakmap을 사용하면 외부에서 접근 불가능
    </script>
</body>
</html>